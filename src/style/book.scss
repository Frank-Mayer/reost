@keyframes slideDownDesktop {
  from {
    transform: rotateX(var(--map-angle)) translateY(var(--map-translate));
  }
  to {
    transform: rotateX(var(--map-angle)) translateY(200vh);
  }
}

@keyframes slideUpDesktop {
  from {
    transform: rotateX(var(--map-angle)) translateY(200vh);
  }
  to {
    transform: rotateX(var(--map-angle)) translateY(var(--map-translate));
  }
}

@keyframes slideDownMobile {
  from {
    transform: rotateX(var(--map-angle))
      translateY(calc(var(--map-translate) - 128px));
  }
  to {
    transform: rotateX(var(--map-angle)) translateY(200vh);
  }
}

@keyframes slideUpMobile {
  from {
    transform: rotateX(var(--map-angle)) translateY(200vh);
  }
  to {
    transform: rotateX(var(--map-angle))
      translateY(calc(var(--map-translate) - 128px));
  }
}

:root {
  --map-width: min(101vw, calc(100vh - 42px));
  --map-margin: max(0px, calc(50vw - (var(--map-width) / 2)));
}

#content {
  height: calc(var(--map-width) * 1.23103448276);
  width: var(--map-width);
  position: fixed;
  left: var(--map-margin);
  right: var(--map-margin);
  bottom: calc(64px + 50vh);
  filter: sepia(0.125);
  padding-top: 8vmin;
  padding-right: 6vmin;
  padding-bottom: 6vmin;
  padding-left: 8vmin;
  background-image: url("img/book.webp");
  background-repeat: no-repeat;
  background-size: cover;
  image-rendering: crisp-edges;
  image-rendering: pixelated;

  * {
    image-rendering: high-quality !important;
    color: black;
  }

  ul {
    list-style-position: inside;
  }

  ol {
    list-style-position: inside;
  }

  b {
    font-weight: 700;
  }

  h1 {
    font-weight: 700;
    font-size: 5vh;
    margin-bottom: 1em;
  }

  h2 {
    font-weight: 700;
    font-size: 4vh;
  }

  h3 {
    font-weight: 700;
  }

  h4 {
    font-weight: 700;
  }

  h5 {
    font-weight: 700;
  }

  h6 {
    font-weight: 700;
  }
}

#mapContainer {
  transform-style: preserve-3d;
  position: fixed;
  top: 0;
  right: 0;
  height: 150vh;
  left: 0;
  overflow: visible;
}

#mapContainerContainer {
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  perspective: 150vh;
}

@media only screen and (max-device-width: 768px) {
  #mapContainer {
    &:not(.down) {
      animation: slideUpMobile 250ms;
      -moz-transform: rotateX(var(--map-angle))
        translateY(calc(var(--map-translate) - 128px));
      -o-transform: rotateX(var(--map-angle))
        translateY(calc(var(--map-translate) - 128px));
      transform: rotateX(var(--map-angle))
        translateY(calc(var(--map-translate) - 128px));
    }

    &.down {
      animation: slideDownMobile 250ms;
      -moz-transform: rotateX(var(--map-angle)) translateY(200vh);
      -o-transform: rotateX(var(--map-angle)) translateY(200vh);
      transform: rotateX(var(--map-angle)) translateY(200vh);
    }
  }
}
@media only screen and (min-device-width: 769px) {
  #mapContainer {
    &:not(.down) {
      animation: slideUpDesktop 250ms;
      transform: rotateX(var(--map-angle)) translateY(var(--map-translate));
    }

    &.down {
      animation: slideDownDesktop 250ms;
      transform: rotateX(var(--map-angle)) translateY(200vh);
    }
  }
}
